<form name="upload_form">
  
  <div class="file-field input-field" ng-if='isDroppable'>
    Drop File:
    <div
      ngf-drop ngf-select ng-model="files"
      name="file" 
      class="drop-box" 
      ngf-drag-over-class="'dragover'" 
      ngf-multiple="true" 
      ngf-allow-dir="true"
      accept="image/*"
      ng-change="showFiles(this.files)"
      ngf-pattern="'image/*'">images here or click to upload
    </div>
    <div ngf-no-file-drop ng-if='isDroppable=false'></div>
   <!-- 
    <div ng-if="this.files" class="btn" ng-click="uploadAll(this.files)">upload All</div>
    <div ng-if="this.files" class="btn" ng-click="cancelAll()">cancel All</div>
    -->
  </div>  
  
  <div ng-if='!isDroppable'>
    <div class="btn">
      <span>files</span>
      <input
        type="file" 
        ng-model="files" 
        name="file" 
        ngf-pattern="'image/*'"
        accept="image/*" 
        ngf-max-size="20MB" 
        multiple
        ng-change="showFiles(this.files)"
        ngf-select
      >
    </div>
    <div ng-if="this.files" class="btn" ng-click="uploadAll(this.files)">upload All</div>
   
  </div>

</form>

<!--If you use AngularJs ngModel directive, remember that the value of value attribute does not bind on ngModel field.You have to init it by yourself and the best way to do it,is

<input type="text"
       id="rootFolder"
       ng-init="rootFolders = 'Bob'"
       ng-model="rootFolders"
       disabled="disabled"
       value="Bob"
       size="40"/>
-->

<ul class="collection">
  <li class="collection-item" ng-repeat="(key, value) in file_collection track by $index">
    <i class="material-icons prefix">account_circle</i>
    <input id="this.value.tmpId" type="text" ng-init="name = value.name"  ng-model="name" ng-keydown="changeName(value, this.name)" class="validate">
    <label for="this.value.tmpId">Name</label>
      
    <!-- Modal Trigger -->
    <button ng-click='openModule($index, value)' data-target="{{$index}}" class="btn modal-trigger" >Modal</button>
      
    <div id="{{$index}}" class="modal">
      
      <div class='crop-dirct' crop-id='{{$index}}' crop-id-check='cropListener'></div>
     
    </div>

  <img ngf-thumbnail="value" rotate-dirct degrees='angle' tmpid='{{this.value.tmpId}}' class="thumb"> 
      
  <a ng-click='upload(this.key, this.value)' class="waves-effect waves-light btn">upload</a>
  <a ng-click='cancel(this.key, this.value)' class="waves-effect waves-light btn">cancel</a>
  <a ng-click='rotate(this.key, this.value)' class="waves-effect waves-light btn">rotate</a>
  
  </li>
  
</ul>
