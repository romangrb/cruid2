<form name="upload_form">
  
  <div class="file-field input-field" ng-if='isDroppable'>
    Drop File:
    <div
      ngf-drop ngf-select ng-model="files"
      name="file" 
      class="drop-box" 
      ngf-drag-over-class="'dragover'" 
      ngf-multiple="true" 
      ngf-allow-dir="true"
      accept="image/*"
      ng-change="showFiles(this.files)"
      ngf-pattern="'image/*'">images here or click to upload
    </div>
    <div ngf-no-file-drop ng-if='isDroppable=false'></div>
   <!-- 
    <div ng-if="this.files" class="btn" ng-click="uploadAll(this.files)">upload All</div>
    <div ng-if="this.files" class="btn" ng-click="cancelAll()">cancel All</div>
    -->
  </div>  
  
  <div ng-if='!isDroppable'>
    <div class="btn">
      <span>files</span>
      <input
        type="file" 
        ng-model="files" 
        name="file" 
        ngf-pattern="'image/*'"
        accept="image/*" 
        ngf-max-size="20MB" 
        multiple
        ng-change="showFiles(this.files)"
        ngf-select
      >
    </div>
    <div ng-if="this.files" class="btn" ng-click="uploadAll(this.files)">upload All</div>
   
  </div>

</form>

<ul class="collection">
  <li class="collection-item" ng-repeat="(key, value) in file_collection track by $index">
    <i class="material-icons prefix">account_circle</i>
    <input id="this.value.tmpId" type="text" value="{{value.name}}" name="imgName" ng-click="changeName(value.name)" class="validate">
    <label for="this.value.tmpId">Name</label>
    
    <!-- Modal Trigger -->
    <button ng-click='openModule($index, value)' data-target="{{$index}}" class="btn modal-trigger" >Modal</button>

    <div id="{{$index}}" class="modal modal-trigger">
      
      <div class='crop-dirct' tmpid={{$index}}></div>
     
    </div>









<!-- Modal Trigger 
<button ng-click='openModule($index, value)' data-target="{{$index}}" class="btn modal-trigger" >Modal</button>


<div id="{{$index}}" class="modal">
  <div class="modal-content">
    <h4>Croup edit</h4>
    <p>In squere content you seeing the view of trumbnail</p>
    
    <div class="cropArea" ng-if="showCrop($index)">
      
      <img-crop 
        image="image.trumbImg" 
        result-image="image.trumbCroppedImg"
        area-type="square"
        area-min-size="128"
        on-load-done="loadDone()"
        on-load-error="loadError()"
      >
      </img-crop>
      
    </div>
    
    <div>
      <img 
        rotate-trumb-dirct 
        trumb-degrees='trumbAngle'
        tmpid='cropRotateId'
        ng-src="{{image.trumbCroppedImg}}"
      />
    </div>
    
  </div>
  <div class="modal-footer">
    Modal Trigger 
    <button ng-click="closeModule($index)"  data-target="{{$index}}" class="btn modal-trigger" >Close</button>
    
    <button ng-click="rotateThumbnail()"  class="btn" > Rotate </button>
    
  </div>
</div>
-->

  <img ngf-thumbnail="value" rotate-dirct degrees='angle' tmpid='{{this.value.tmpId}}' class="thumb"> 
      
  <a ng-click='upload(this.key, this.value)' class="waves-effect waves-light btn">upload</a>
  <a ng-click='cancel(this.key, this.value)' class="waves-effect waves-light btn">cancel</a>
  <!--<a ng-click="crop(this.value.tmpId, this.value)" class="waves-effect waves-light btn">crop</a>-->
  </li>
  
</ul>
