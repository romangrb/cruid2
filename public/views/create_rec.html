<form name="upload_form">
    <div class="file-field input-field">
      <div class="btn">
        <span>files</span>
        <input
          type="file" 
          ng-model="files" 
          name="file" 
          ngf-pattern="'image/*'"
          accept="image/*" 
          ngf-max-size="20MB" 
          multiple
          ng-change="showFiles(this.files)"
          ngf-select
        >
      </div>
      <div class="file-path-wrapper">
        <input class="file-path validate"
          type="text" 
          placeholder="Upload one or more files"
        >
      </div>
    </div>
    <div class="btn" ng-click="uploadAll(this.files)">upload All</div>
  </form>
  <ul class="collection">
    <li class="collection-item" 
      ng-repeat="(key, value) in file_collection track by $index"
    >
    {{value.name | toShortNameImg}}</br>
    <a ng-click='close(this.key, this.value)' ng-if=""  class="waves-effect waves-light red btn">
      <i class="material-icons left">close</i>close
    </a>
    <a ng-click='upload(this.key, this.value)' class="waves-effect waves-light btn">upload</a>
    </li>
  </ul>
